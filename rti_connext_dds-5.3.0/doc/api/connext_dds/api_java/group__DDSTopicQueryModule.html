<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>RTI Connext Java API: Topic Queries</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">RTI Connext Java API
   &#160;<span id="projectnumber">Version 5.3.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2-20120808 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__DDSTopicQueryModule.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Topic Queries</div>  </div>
<div class="ingroups"><a class="el" href="group__DDSReaderModule.html">DataReaders</a></div></div><!--header-->
<div class="contents">

<p><a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1TopicQuery.html" title="&lt;&lt;extension&gt;&gt; Allows a com.rti.dds.subscription.DataReader to query the sample cache of its matching ...">com.rti.dds.subscription.TopicQuery</a> and associated elements.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">interface &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1TopicQuery.html">TopicQuery</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><em><a class="el" href="group__DDSDocGuideModule.html#a_st_ext">&lt;&lt;extension&gt;&gt;</a></em> Allows a <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1DataReader.html" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">com.rti.dds.subscription.DataReader</a> to query the sample cache of its matching <a class="el" href="interfacecom_1_1rti_1_1dds_1_1publication_1_1DataWriter.html" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given com...">com.rti.dds.publication.DataWriter</a>.  <a href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1TopicQuery.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1rti_1_1dds_1_1subscription_1_1TopicQueryData.html">TopicQueryData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><em><a class="el" href="group__DDSDocGuideModule.html#a_st_ext">&lt;&lt;extension&gt;&gt;</a></em> Provides information about a <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1TopicQuery.html" title="&lt;&lt;extension&gt;&gt; Allows a com.rti.dds.subscription.DataReader to query the sample cache of its matching ...">com.rti.dds.subscription.TopicQuery</a>  <a href="classcom_1_1rti_1_1dds_1_1subscription_1_1TopicQueryData.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1rti_1_1dds_1_1subscription_1_1TopicQueryHelper.html">TopicQueryHelper</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helpers to provide utility operations related to <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1TopicQuery.html" title="&lt;&lt;extension&gt;&gt; Allows a com.rti.dds.subscription.DataReader to query the sample cache of its matching ...">com.rti.dds.subscription.TopicQuery</a>.  <a href="classcom_1_1rti_1_1dds_1_1subscription_1_1TopicQueryHelper.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1rti_1_1dds_1_1subscription_1_1TopicQuerySelection.html">TopicQuerySelection</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><em><a class="el" href="group__DDSDocGuideModule.html#a_st_ext">&lt;&lt;extension&gt;&gt;</a></em> Specifies the data query that defines a <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1TopicQuery.html" title="&lt;&lt;extension&gt;&gt; Allows a com.rti.dds.subscription.DataReader to query the sample cache of its matching ...">com.rti.dds.subscription.TopicQuery</a>  <a href="classcom_1_1rti_1_1dds_1_1subscription_1_1TopicQuerySelection.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga70e90380ece5319e8f3356f585a0f740"><td class="memItemLeft" align="right" valign="top">static final TopicQuerySelection&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DDSTopicQueryModule.html#ga70e90380ece5319e8f3356f585a0f740">TOPIC_QUERY_SELECTION_USE_READER_CONTENT_FILTER</a></td></tr>
<tr class="memdesc:ga70e90380ece5319e8f3356f585a0f740"><td class="mdescLeft">&#160;</td><td class="mdescRight">Special value for creating a <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1TopicQuery.html" title="&lt;&lt;extension&gt;&gt; Allows a com.rti.dds.subscription.DataReader to query the sample cache of its matching ...">com.rti.dds.subscription.TopicQuery</a> that applies the same filter as the <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1DataReader.html" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">DataReader</a>'s <a class="el" href="interfacecom_1_1rti_1_1dds_1_1topic_1_1ContentFilteredTopic.html" title="&lt;&lt;interface&gt;&gt; Specialization of com.rti.dds.topic.TopicDescription that allows for content-based subs...">com.rti.dds.topic.ContentFilteredTopic</a>.  <a href="#ga70e90380ece5319e8f3356f585a0f740"></a><br/></td></tr>
<tr class="separator:ga70e90380ece5319e8f3356f585a0f740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae72bc9a050188eed7a52134d63a146aa"><td class="memItemLeft" align="right" valign="top">static final TopicQuerySelection&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__DDSTopicQueryModule.html#gae72bc9a050188eed7a52134d63a146aa">TOPIC_QUERY_SELECTION_SELECT_ALL</a></td></tr>
<tr class="memdesc:gae72bc9a050188eed7a52134d63a146aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Special value for creating a <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1TopicQuery.html" title="&lt;&lt;extension&gt;&gt; Allows a com.rti.dds.subscription.DataReader to query the sample cache of its matching ...">com.rti.dds.subscription.TopicQuery</a> that selects all the samples in a <a class="el" href="interfacecom_1_1rti_1_1dds_1_1publication_1_1DataWriter.html" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given com...">com.rti.dds.publication.DataWriter</a> cache.  <a href="#gae72bc9a050188eed7a52134d63a146aa"></a><br/></td></tr>
<tr class="separator:gae72bc9a050188eed7a52134d63a146aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<p><a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1TopicQuery.html" title="&lt;&lt;extension&gt;&gt; Allows a com.rti.dds.subscription.DataReader to query the sample cache of its matching ...">com.rti.dds.subscription.TopicQuery</a> and associated elements. </p>
<p>TopicQueries allow a <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1DataReader.html" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">com.rti.dds.subscription.DataReader</a> to query the sample cache of its matching <a class="el" href="interfacecom_1_1rti_1_1dds_1_1publication_1_1DataWriter.html" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given com...">com.rti.dds.publication.DataWriter</a>. A user can create a <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1TopicQuery.html" title="&lt;&lt;extension&gt;&gt; Allows a com.rti.dds.subscription.DataReader to query the sample cache of its matching ...">com.rti.dds.subscription.TopicQuery</a> with the <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1DataReader.html#aa9e4b15731400f8d450dabbf5834e231" title="Creates a com.rti.dds.subscription.TopicQuery.">com.rti.dds.subscription.DataReader.create_topic_query</a> API. When a DataReader creates a TopicQuery, DDS will propagate it to other DomainParticipants and their DataWriters. When a DataWriter matching with the DataReader that created the TopicQuery receives it, it will send the cached samples that pass the TopicQuery's filter.</p>
<p>To configure how to dispatch a TopicQuery, the <a class="el" href="classcom_1_1rti_1_1dds_1_1publication_1_1DataWriterQos.html" title="QoS policies supported by a com.rti.dds.publication.DataWriter entity.">com.rti.dds.publication.DataWriterQos</a> includes the <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1TopicQueryDispatchQosPolicy.html" title="Configures the ability of a com.rti.dds.publication.DataWriter to publish samples in response to a co...">com.rti.dds.infrastructure.TopicQueryDispatchQosPolicy</a> policy. By default, a DataWriter ignores TopicQueries unless they are explicitly enabled using this policy.</p>
<p>The delivery of TopicQuery samples occurs in a separate RTPS channel. This allows DataReaders to receive TopicQuery samples and live samples in parallel. This is a key difference with respect to the Durability QoS policy.</p>
<p>Late-joining DataWriters will also discover existing TopicQueries. To delete a TopicQuery you must use <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1DataReader.html#a489f604d994e4e8814c0a517c637ad1c" title="Deletes a com.rti.dds.subscription.TopicQuery.">com.rti.dds.subscription.DataReader.delete_topic_query</a>.</p>
<p>After deleting a TopicQuery, new DataWriters won't discover it and existing DataWriters currently publishing cached samples may stop before delivering all of them.</p>
<p>The samples received in response to a TopicQuery are stored in the associated DataReader's cache. Any of the read/take operations can retrieve TopicQuery samples. The field <a class="el" href="classcom_1_1rti_1_1dds_1_1subscription_1_1SampleInfo.html#a15a163c3d8bb4e789207ae63abbd0de6" title="&lt;&lt;extension&gt;&gt; The GUID of the com.rti.dds.subscription.TopicQuery that is related to the sample...">com.rti.dds.subscription.SampleInfo.topic_query_guid</a> associates each sample to its TopicQuery. If the read sample is not in response to a TopicQuery then this field will be <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1GUID__t.html#ad6506486b5ab178f7e2594428ea90c5f" title="Unknown GUID.">com.rti.dds.infrastructure.GUID_t.GUID_UNKNOWN</a>.</p>
<p>You can choose to read or take only TopicQuery samples, only live samples, or both. To support this ReadConditions and QueryConditions provide the <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1DataReader.html#af306f550d3b7a8a7fe4eb7a222799593" title="&lt;&lt;extension&gt;&gt; Creates a com.rti.dds.subscription.QueryCondition with parameters.">com.rti.dds.subscription.DataReader.create_querycondition_w_params</a> and <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1DataReader.html#ac75006c76194fe6658c816f9da44d24e" title="&lt;&lt;extension&gt;&gt; Creates a com.rti.dds.subscription.ReadCondition with parameters.">com.rti.dds.subscription.DataReader.create_readcondition_w_params</a> APIs.</p>
<p>Each TopicQuery is identified by a GUID that can be accessed using the <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1TopicQuery.html#acaf3d7fc93fbb6c6227d553bf36e0dc3" title="Get the TopicQuery&#39;s GUID.">com.rti.dds.subscription.TopicQuery.get_guid</a> method.</p>
<h1><a class="anchor" id="DebuggingTopicQueries"></a>
Debugging Topic Queries</h1>
<p>There are a number of ways in which to gain more insight into what is happening in an application that is creating Topic Queries.</p>
<h2><a class="anchor" id="ServiceRequestBuiltinReader"></a>
The Built-in ServiceRequest DataReader</h2>
<p>TopicQueries are communicated to publishing applications through a built-in <a class="el" href="classcom_1_1rti_1_1dds_1_1topic_1_1builtin_1_1ServiceRequest.html" title="A request coming from one of the built-in services.">com.rti.dds.topic.builtin.ServiceRequest</a> channel. The ServiceRequest channel is designed to be generic so that it can be used for many different purposes, one of which is TopicQueries.</p>
<p>When a DataReader creates a TopicQuery, a <a class="el" href="classcom_1_1rti_1_1dds_1_1topic_1_1builtin_1_1ServiceRequest.html" title="A request coming from one of the built-in services.">com.rti.dds.topic.builtin.ServiceRequest</a> message is sent containing the TopicQuery information. Just as there are built-in DataReaders for <a class="el" href="classcom_1_1rti_1_1dds_1_1domain_1_1builtin_1_1ParticipantBuiltinTopicData.html" title="Entry created when a DomainParticipant object is discovered.">com.rti.dds.domain.builtin.ParticipantBuiltinTopicData</a>, <a class="el" href="classcom_1_1rti_1_1dds_1_1subscription_1_1builtin_1_1SubscriptionBuiltinTopicData.html" title="Entry created when a com.rti.dds.subscription.DataReader is discovered in association with its Subscr...">com.rti.dds.subscription.builtin.SubscriptionBuiltinTopicData</a>, and <a class="el" href="classcom_1_1rti_1_1dds_1_1publication_1_1builtin_1_1PublicationBuiltinTopicData.html" title="Entry created when a com.rti.dds.publication.DataWriter is discovered in association with its Publish...">com.rti.dds.publication.builtin.PublicationBuiltinTopicData</a>, there is a fourth built-in DataReader for ServiceRequests.</p>
<p>The new built-in DataReader can be retrieved using the built-in subscriber and <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1Subscriber.html#a1ca1da93a24656316d927a21942c9917" title="Retrieves an existing com.rti.dds.subscription.DataReader.">com.rti.dds.subscription.Subscriber.lookup_datareader</a>. The topic name is <a class="el" href="group__DDSServiceRequestBuiltInTopicModule.html#ga5606b5d065787cf4ceb7d6a6c9aac57c" title="Service Request topic name.">com.rti.dds.topic.builtin.ServiceRequestTypeSupport.SERVICE_REQUEST_TOPIC_NAME</a>. Installing a listener with the <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1DataReaderListener.html#a0f468b613c8b1530f3b1d6565d736b86" title="Handle the com.rti.dds.infrastructure.StatusKind.StatusKind.DATA_AVAILABLE_STATUS communication statu...">com.rti.dds.subscription.DataReaderListener.on_data_available</a> callback implemented will allow a publishing application to be notified whenever a TopicQuery has been received from a subscribing application.</p>
<p>The builtin.ServiceRequest.service_id of a <a class="el" href="classcom_1_1rti_1_1dds_1_1topic_1_1builtin_1_1ServiceRequest.html" title="A request coming from one of the built-in services.">com.rti.dds.topic.builtin.ServiceRequest</a> corresponding to a <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1TopicQuery.html" title="&lt;&lt;extension&gt;&gt; Allows a com.rti.dds.subscription.DataReader to query the sample cache of its matching ...">com.rti.dds.subscription.TopicQuery</a> will be <a class="el" href="group__DDSServiceRequestBuiltInTopicModule.html#ga9517cc1011512469a7f3edc74669bf56" title="Service Id for the com.rti.dds.subscription.TopicQuery Service.">com.rti.dds.topic.builtin.ServiceRequest.TOPIC_QUERY_SERVICE_ID</a> and the builtin.ServiceRequest.instance_id will be equal to the GUID of the <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1TopicQuery.html" title="&lt;&lt;extension&gt;&gt; Allows a com.rti.dds.subscription.DataReader to query the sample cache of its matching ...">com.rti.dds.subscription.TopicQuery</a> (see <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1TopicQuery.html#acaf3d7fc93fbb6c6227d553bf36e0dc3" title="Get the TopicQuery&#39;s GUID.">com.rti.dds.subscription.TopicQuery.get_guid</a>).</p>
<p>The builtin.ServiceRequest.request_body is a sequence of bytes containing more information about the TopcQuery. This information can be retrieved using the <a class="el" href="classcom_1_1rti_1_1dds_1_1subscription_1_1TopicQueryHelper.html#aad6128721df27dc86dbd9f46ff046b16" title="Retrieves the com.rti.dds.subscription.TopicQueryData data contained in the specified com...">com.rti.dds.subscription.TopicQueryHelper.topic_query_data_from_service_request</a> function. The resulting <a class="el" href="classcom_1_1rti_1_1dds_1_1subscription_1_1TopicQueryData.html" title="&lt;&lt;extension&gt;&gt; Provides information about a com.rti.dds.subscription.TopicQuery">com.rti.dds.subscription.TopicQueryData</a> contains the <a class="el" href="classcom_1_1rti_1_1dds_1_1subscription_1_1TopicQuerySelection.html" title="&lt;&lt;extension&gt;&gt; Specifies the data query that defines a com.rti.dds.subscription.TopicQuery">com.rti.dds.subscription.TopicQuerySelection</a> that the <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1TopicQuery.html" title="&lt;&lt;extension&gt;&gt; Allows a com.rti.dds.subscription.DataReader to query the sample cache of its matching ...">com.rti.dds.subscription.TopicQuery</a> was created with, the GUID of the original DataReader that created the TopicQuery, and the topic name of that DataReader. Note: When TopicQueries are propagated through one or more Routing Services, the last DataReader that issued the TopicQuery will be a Routing Service DataReader. The <a class="el" href="classcom_1_1rti_1_1dds_1_1subscription_1_1TopicQueryData.html#a3baf9774931f31e916761a4616da296b" title="Identifies the com.rti.dds.subscription.DataReader that created the com.rti.dds.subscription.TopicQuery.">com.rti.dds.subscription.TopicQueryData.original_related_reader_guid</a>, however, will be that of the first DataReader to have created the TopicQuery.</p>
<h2><a class="anchor" id="NewServiceRequestAcceptedListener"></a>
The on_service_request_accepted DataWriter Listener Callback</h2>
<p>It is possible that a <a class="el" href="classcom_1_1rti_1_1dds_1_1topic_1_1builtin_1_1ServiceRequest.html" title="A request coming from one of the built-in services.">com.rti.dds.topic.builtin.ServiceRequest</a> for a <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1TopicQuery.html" title="&lt;&lt;extension&gt;&gt; Allows a com.rti.dds.subscription.DataReader to query the sample cache of its matching ...">com.rti.dds.subscription.TopicQuery</a> is received but is not immediately dispatched to a DataWriter. This can happen, for example, if a DataWriter was not matching with a DataReader at the time that the TopicQuery was received by the publishing application. The <a class="el" href="interfacecom_1_1rti_1_1dds_1_1publication_1_1DataWriterListener.html#a14954bddc10ad5d18775bbf2c4b4aa4c" title="&lt;&lt;extension&gt;&gt; Called when a com.rti.dds.topic.builtin.ServiceRequest for the com.rti.dds.subscription.TopicQuery service is dispatched to this com.rti.dds.publication.DataWriter for processing.">com.rti.dds.publication.DataWriterListener.on_service_request_accepted</a> callback notifies a DataWriter when a ServiceRequest has been dispatched to that DataWriter. The <a class="el" href="classcom_1_1rti_1_1dds_1_1publication_1_1ServiceRequestAcceptedStatus.html" title="com.rti.dds.infrastructure.StatusKind.SERVICE_REQUEST_ACCEPTED_STATUS">com.rti.dds.publication.ServiceRequestAcceptedStatus</a> provides information about how many ServiceRequests have been accepted by the DataWriter since the last time that the status was read. The status also includes the <a class="el" href="classcom_1_1rti_1_1dds_1_1publication_1_1ServiceRequestAcceptedStatus.html#a3e0d837fef027a6ff3af6116ab4e37ff" title="A handle to the last com.rti.dds.topic.builtin.ServiceRequest that caused the com.rti.dds.publication.DataWriter&#39;s status to change.">com.rti.dds.publication.ServiceRequestAcceptedStatus.last_request_handle</a>, which is the <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1InstanceHandle__t.html" title="Type definition for an instance handle.">com.rti.dds.infrastructure.InstanceHandle_t</a> of the last ServiceRequest that was accepted. This instance handle can be used to read samples per instance from the built-in ServiceRequest DataReader and correlate which ServiceRequests have been dispatched to which DataWriters.</p>
<h2><a class="anchor" id="ReadingTopicQuerySamples"></a>
Reading TopicQuery Samples</h2>
<p>Data samples that are received by a DataReader in response to a TopicQuery can be identified with two pieces of information from the corresponding <a class="el" href="classcom_1_1rti_1_1dds_1_1subscription_1_1SampleInfo.html" title="Information that accompanies each sample that is read or taken.">com.rti.dds.subscription.SampleInfo</a> to the sample. First, if the <a class="el" href="classcom_1_1rti_1_1dds_1_1subscription_1_1SampleInfo.html#a15a163c3d8bb4e789207ae63abbd0de6" title="&lt;&lt;extension&gt;&gt; The GUID of the com.rti.dds.subscription.TopicQuery that is related to the sample...">com.rti.dds.subscription.SampleInfo.topic_query_guid</a> is not equal to <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1GUID__t.html#ad6506486b5ab178f7e2594428ea90c5f" title="Unknown GUID.">com.rti.dds.infrastructure.GUID_t.GUID_UNKNOWN</a> then the sample is in response to the TopicQuery with that GUID (see <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1TopicQuery.html#acaf3d7fc93fbb6c6227d553bf36e0dc3" title="Get the TopicQuery&#39;s GUID.">com.rti.dds.subscription.TopicQuery.get_guid</a>). Second, if the sample is in response to a TopicQuery and the <a class="el" href="classcom_1_1rti_1_1dds_1_1subscription_1_1SampleInfo.html#adf916204820072417ed73a32de1cefcf" title="&lt;&lt;extension&gt;&gt; Flags associated with the sample.">com.rti.dds.subscription.SampleInfo.flag</a> <a class="el" href="classcom_1_1rti_1_1dds_1_1infrastructure_1_1SampleFlagBits.html#a2b101eb473e5c0076570c5ec17d476c3" title="Indicates that a sample for a TopicQuery will be followed by more samples.">com.rti.dds.infrastructure.SampleFlagBits.INTERMEDIATE_TOPIC_QUERY_SAMPLE</a> flag is set then this is not the last sample in response to the TopicQuery for a DataWriter identified by <a class="el" href="classcom_1_1rti_1_1dds_1_1subscription_1_1SampleInfo.html#af8ee613f6092254c21348e3212ff5433" title="&lt;&lt;extension&gt;&gt; The original publication virtual GUID.">com.rti.dds.subscription.SampleInfo.original_publication_virtual_guid</a>. If that flag is not set then there will be no more samples corresponding to that TopicQuery coming from the DataWriter. </p>
<h2>Variable Documentation</h2>
<a class="anchor" id="ga70e90380ece5319e8f3356f585a0f740"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final TopicQuerySelection TOPIC_QUERY_SELECTION_USE_READER_CONTENT_FILTER</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Special value for creating a <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1TopicQuery.html" title="&lt;&lt;extension&gt;&gt; Allows a com.rti.dds.subscription.DataReader to query the sample cache of its matching ...">com.rti.dds.subscription.TopicQuery</a> that applies the same filter as the <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1DataReader.html" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">DataReader</a>'s <a class="el" href="interfacecom_1_1rti_1_1dds_1_1topic_1_1ContentFilteredTopic.html" title="&lt;&lt;interface&gt;&gt; Specialization of com.rti.dds.topic.TopicDescription that allows for content-based subs...">com.rti.dds.topic.ContentFilteredTopic</a>. </p>
<p>If the <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1DataReader.html" title="&lt;&lt;interface&gt;&gt; Allows the application to: (1) declare the data it wishes to receive (i...">com.rti.dds.subscription.DataReader</a> that creates the <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1TopicQuery.html" title="&lt;&lt;extension&gt;&gt; Allows a com.rti.dds.subscription.DataReader to query the sample cache of its matching ...">com.rti.dds.subscription.TopicQuery</a> uses a <a class="el" href="interfacecom_1_1rti_1_1dds_1_1topic_1_1ContentFilteredTopic.html" title="&lt;&lt;interface&gt;&gt; Specialization of com.rti.dds.topic.TopicDescription that allows for content-based subs...">com.rti.dds.topic.ContentFilteredTopic</a>, this <a class="el" href="classcom_1_1rti_1_1dds_1_1subscription_1_1TopicQuerySelection.html" title="&lt;&lt;extension&gt;&gt; Specifies the data query that defines a com.rti.dds.subscription.TopicQuery">com.rti.dds.subscription.TopicQuerySelection</a> value indicates that the <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1TopicQuery.html" title="&lt;&lt;extension&gt;&gt; Allows a com.rti.dds.subscription.DataReader to query the sample cache of its matching ...">TopicQuery</a> should use the same filter. </p>
<p>Otherwise it behaves as <a class="el" href="group__DDSTopicQueryModule.html#gae72bc9a050188eed7a52134d63a146aa" title="Special value for creating a com.rti.dds.subscription.TopicQuery that selects all the samples in a co...">com.rti.dds.subscription.DataReader.TOPIC_QUERY_SELECTION_SELECT_ALL</a>. </p>

</div>
</div>
<a class="anchor" id="gae72bc9a050188eed7a52134d63a146aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final TopicQuerySelection TOPIC_QUERY_SELECTION_SELECT_ALL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Special value for creating a <a class="el" href="interfacecom_1_1rti_1_1dds_1_1subscription_1_1TopicQuery.html" title="&lt;&lt;extension&gt;&gt; Allows a com.rti.dds.subscription.DataReader to query the sample cache of its matching ...">com.rti.dds.subscription.TopicQuery</a> that selects all the samples in a <a class="el" href="interfacecom_1_1rti_1_1dds_1_1publication_1_1DataWriter.html" title="&lt;&lt;interface&gt;&gt; Allows an application to set the value of the data to be published under a given com...">com.rti.dds.publication.DataWriter</a> cache. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<HR>
<IMG SRC="rti_logo.gif" height="16">
<A HREF="main.html">RTI Connext Java API Version 5.3.0</A>
Copyright &copy; Sun Jun 25 2017 
<A HREF="http://www.rti.com">Real-Time Innovations, Inc</A>
</BODY>
</HTML>
